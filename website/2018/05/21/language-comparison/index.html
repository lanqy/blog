<!--
 * @Author: Leland
 * @Date: 2019-12-27 15:59:00
 * @Description: Description
 -->
<!doctype html>
<html>

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui" />
    <title>通过代数数据类型和模式匹配进行语言比较：Koka，Rust，Haxe，Swift，Elm，PureScript，Haskell，OCaml，ReasonML，Kotlin，Scala，Dotty，Ruby，TypeScript</title>
    <link href="/css/style.css" rel="stylesheet" />
    <meta name="description" content="通过代数数据类型和模式匹配进行语言比较：Koka，Rust，Haxe，Swift，Elm，PureScript，Haskell，OCaml，ReasonML，Kotlin，Scala，Dotty，Ruby，TypeScript">
  </head>

  <body>
    <div>
      <div>
        <header class="header">
          <div class="container header-wrap">
            <h1 class="site-name">
              <a href="/">
                首页
              </a>
            </h1>
            <ul class="nav">
              <li class="nav-item">
                <a href="/about">关于</a>
              </li>
            </ul>
          </div>
        </header>
      </div>
      <div class="container main">
        <div class="page-body">
          <div class="markdown-body">
            <h1>通过代数数据类型和模式匹配进行语言比较：Koka，Rust，Haxe，Swift，Elm，PureScript，Haskell，OCaml，ReasonML，Kotlin，Scala，Dotty，Ruby，TypeScript</h1>
            <h2>代数数据类型</h2>
            <h3>Koka</h3>
            <pre><code class="language-haskell"><span class="token keyword">type</span> <span class="token hvariable">color</span> <span class="token punctuation">{</span>
  <span class="token constant">Red</span>
  <span class="token constant">Green</span>
  <span class="token constant">Blue</span>
  <span class="token constant">Rgb</span><span class="token punctuation">(</span> <span class="token hvariable">r</span> <span class="token operator">:</span> <span class="token hvariable">int</span><span class="token punctuation">,</span> <span class="token hvariable">g</span> <span class="token operator">:</span> <span class="token hvariable">int</span><span class="token punctuation">,</span> <span class="token hvariable">b</span><span class="token operator">:</span> <span class="token hvariable">int</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <p>或</p>
            <pre><code class="language-haskell"><span class="token keyword">type</span> <span class="token hvariable">color</span> <span class="token punctuation">{</span>
  <span class="token constant">Red</span><span class="token punctuation">;</span> <span class="token constant">Green</span><span class="token punctuation">;</span> <span class="token constant">Blue</span><span class="token punctuation">;</span> <span class="token constant">Rgb</span><span class="token punctuation">(</span> <span class="token hvariable">r</span> <span class="token operator">:</span> <span class="token hvariable">int</span><span class="token punctuation">,</span> <span class="token hvariable">g</span> <span class="token operator">:</span> <span class="token hvariable">int</span><span class="token punctuation">,</span> <span class="token hvariable">b</span><span class="token operator">:</span> <span class="token hvariable">int</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>rust</h3>
            <pre><code class="language-rust"><span class="token keyword">enum</span> <span class="token type-definition class-name">Color</span> <span class="token punctuation">{</span>
 <span class="token class-name">Red</span><span class="token punctuation">,</span>
 <span class="token class-name">Green</span><span class="token punctuation">,</span>
 <span class="token class-name">Blue</span><span class="token punctuation">,</span>
 <span class="token class-name">Rgb</span> <span class="token punctuation">{</span> r<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">,</span> g<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token keyword">u8</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Haxe</h3>
            <pre><code class="language-haxe"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>
  Red<span class="token punctuation">;</span>
  Green<span class="token punctuation">;</span>
  Blue<span class="token punctuation">;</span>
  <span class="token function">Rgb</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span> Int<span class="token punctuation">,</span> g<span class="token punctuation">:</span> Int<span class="token punctuation">,</span> b<span class="token punctuation">:</span> Int<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>swift</h3>
            <pre><code class="language-swift"><span class="token keyword">enum</span> <span class="token builtin">Color</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token builtin">Red</span><span class="token punctuation">,</span> <span class="token builtin">Green</span><span class="token punctuation">,</span> <span class="token builtin">Blue</span><span class="token punctuation">,</span> <span class="token function">Rgb</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> g<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Elm</h3>
            <pre><code class="language-elm"><span class="token keyword">type</span> <span class="token constant">Color</span> <span class="token operator">=</span> <span class="token constant">Red</span> <span class="token operator">|</span> <span class="token constant">Green</span> <span class="token operator">|</span> <span class="token constant">Blue</span> <span class="token operator">|</span> <span class="token constant">Rgb</span> <span class="token punctuation">{</span> <span class="token hvariable">r</span><span class="token operator">:</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">g</span><span class="token operator">:</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">b</span><span class="token operator">:</span> <span class="token constant">Int</span> <span class="token punctuation">}</span>
</code></pre>
            <h3>PureScript</h3>
            <pre><code class="language-haskell"><span class="token keyword">data</span> <span class="token constant">Color</span> <span class="token operator">=</span> <span class="token constant">Red</span> <span class="token operator">|</span> <span class="token constant">Blue</span> <span class="token operator">|</span> <span class="token constant">Green</span> <span class="token operator">|</span> <span class="token constant">Rgb</span><span class="token punctuation">{</span> <span class="token hvariable">r</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">g</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">b</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token punctuation">}</span>
</code></pre>
            <h3>Haskell</h3>
            <pre><code class="language-haskell"><span class="token keyword">data</span> <span class="token constant">Color</span> <span class="token operator">=</span> <span class="token constant">Red</span> <span class="token operator">|</span> <span class="token constant">Green</span> <span class="token operator">|</span> <span class="token constant">Blue</span> <span class="token operator">|</span> <span class="token constant">Rgb</span> <span class="token punctuation">{</span><span class="token hvariable">r</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">g</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token hvariable">b</span> <span class="token operator">::</span> <span class="token constant">Int</span><span class="token punctuation">}</span>
</code></pre>
            <h3>OCaml</h3>
            <pre><code class="language-ocaml"><span class="token keyword">type</span> rgb <span class="token operator">=</span> <span class="token punctuation">{</span> r<span class="token punctuation">:</span> int<span class="token punctuation">;</span> g<span class="token punctuation">:</span> int<span class="token punctuation">;</span> b<span class="token punctuation">:</span> int <span class="token punctuation">}</span>
<span class="token keyword">type</span> color <span class="token operator">=</span> <span class="token module variable">Red</span> <span class="token operator">|</span> <span class="token module variable">Green</span> <span class="token operator">|</span> <span class="token module variable">Blue</span> <span class="token operator">|</span> <span class="token module variable">Rgb</span> <span class="token keyword">of</span> rgb
</code></pre>
            <h3>ReasonML</h3>
            <pre><code class="language-ocaml"><span class="token keyword">type</span> rgb <span class="token operator">=</span> <span class="token punctuation">{</span> r<span class="token punctuation">:</span> int<span class="token punctuation">,</span> g<span class="token punctuation">:</span> int<span class="token punctuation">,</span> b<span class="token punctuation">:</span> int <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> color <span class="token operator">=</span>
  <span class="token operator">|</span> <span class="token module variable">Red</span>
  <span class="token operator">|</span> <span class="token module variable">Green</span>
  <span class="token operator">|</span> <span class="token module variable">Blue</span>
  <span class="token operator">|</span> <span class="token module variable">Rgb</span><span class="token punctuation">(</span>rgb<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
            <h3>Kotlin</h3>
            <pre><code class="language-kotlin"><span class="token keyword">sealed</span> <span class="token keyword">class</span> Color <span class="token punctuation">{</span>
    <span class="token keyword">object</span> Red<span class="token operator">:</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">object</span> Green<span class="token operator">:</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">object</span> Blue<span class="token operator">:</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">class</span> <span class="token function">Rgb</span><span class="token punctuation">(</span><span class="token keyword">val</span> r<span class="token operator">:</span> Int<span class="token punctuation">,</span><span class="token keyword">val</span>  g<span class="token operator">:</span> Int<span class="token punctuation">,</span><span class="token keyword">val</span>  b<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Scala</h3>
            <pre><code class="language-scala"><span class="token keyword">sealed</span> <span class="token keyword">trait</span> Color

<span class="token keyword">final</span> <span class="token keyword">case</span> <span class="token keyword">object</span> Red <span class="token keyword">extends</span> Color
<span class="token keyword">final</span> <span class="token keyword">case</span> <span class="token keyword">object</span> Green <span class="token keyword">extends</span> Color
<span class="token keyword">final</span> <span class="token keyword">case</span> <span class="token keyword">object</span> Blue <span class="token keyword">extends</span> Color
<span class="token keyword">final</span> <span class="token keyword">case</span> <span class="token keyword">class</span> Rgb<span class="token punctuation">(</span>r<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> g<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> Color
</code></pre>
            <h3>Dotty</h3>
            <pre><code class="language-scala">enum Color <span class="token punctuation">{</span>
  <span class="token keyword">case</span> Red
  <span class="token keyword">case</span> Green
  <span class="token keyword">case</span> Blue
  <span class="token keyword">case</span> Rgb<span class="token punctuation">(</span>r<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> g<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>TypeScript</h3>
            <pre><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Color</span> <span class="token operator">=</span> Red <span class="token operator">|</span> Green <span class="token operator">|</span> Blue <span class="token operator">|</span> Rgb<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">enum</span> ColorKind <span class="token punctuation">{</span>
  Red <span class="token operator">=</span> <span class="token string">"Red"</span><span class="token punctuation">,</span>
  Green <span class="token operator">=</span> <span class="token string">"Green"</span><span class="token punctuation">,</span>
  Blue <span class="token operator">=</span> <span class="token string">"Blue"</span><span class="token punctuation">,</span>
  Rgb <span class="token operator">=</span> <span class="token string">"Rgb"</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Red</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> ColorKind<span class="token punctuation">.</span>Red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Green</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> ColorKind<span class="token punctuation">.</span>Green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Blue</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> ColorKind<span class="token punctuation">.</span>Blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Rgb</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> ColorKind<span class="token punctuation">.</span>Rgb<span class="token punctuation">;</span>
    r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    g<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Ruby</h3>
            <pre><code class="language-ruby"><span class="token keyword">module</span> <span class="token constant">Color</span>
  <span class="token constant">Red</span> <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token constant">Green</span> <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token constant">Blue</span> <span class="token operator">=</span> <span class="token number">3</span>
  <span class="token constant">Rgb</span> <span class="token operator">=</span> <span class="token builtin">Struct</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token symbol">:r</span><span class="token punctuation">,</span> <span class="token symbol">:g</span><span class="token punctuation">,</span> <span class="token symbol">:b</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
            <h2>感想</h2>
            <h3>符号</h3>
            <ol>
              <li>Koka, Rust, Haxe, Elm: 非常好</li>
              <li>Dotty, Swift, PureScript, Haskell, OCaml: 比较好</li>
              <li>Ruby: 一般</li>
              <li>Kotlin: 很难写</li>
              <li>Scala: 写起来很难</li>
            </ol>
            <h2>模式匹配</h2>
            <h3>Koka</h3>
            <pre><code class="language-haskell">
<span class="token hvariable">match</span><span class="token punctuation">(</span><span class="token hvariable">color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token constant">Red</span>   <span class="token operator">-></span> <span class="token string">"#FF0000"</span>
  <span class="token constant">Green</span> <span class="token operator">-></span> <span class="token string">"#00FF00"</span>
  <span class="token constant">Blue</span>  <span class="token operator">-></span> <span class="token string">"#0000FF"</span>
  <span class="token constant">Rgb</span><span class="token punctuation">(</span><span class="token hvariable">r</span><span class="token punctuation">,</span><span class="token hvariable">g</span><span class="token punctuation">,</span><span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token string">"#"</span> <span class="token operator">+</span> <span class="token hvariable">showHex</span><span class="token punctuation">(</span><span class="token hvariable">r</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token hvariable">showHex</span><span class="token punctuation">(</span><span class="token hvariable">g</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token hvariable">showHex</span><span class="token punctuation">(</span><span class="token hvariable">b</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Rust</h3>
            <pre><code class="language-rust"><span class="token keyword">match</span> color <span class="token punctuation">{</span>
    <span class="token class-name">Color</span><span class="token punctuation">::</span><span class="token class-name">Red</span>   <span class="token operator">=></span> <span class="token string">"#FF0000"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Color</span><span class="token punctuation">::</span><span class="token class-name">Green</span> <span class="token operator">=></span> <span class="token string">"#00FF00"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Color</span><span class="token punctuation">::</span><span class="token class-name">Blue</span>  <span class="token operator">=></span> <span class="token string">"#0000FF"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Color</span><span class="token punctuation">::</span><span class="token class-name">Rgb</span><span class="token punctuation">{</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">}</span> <span class="token operator">=></span> <span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"#{:02X}{:02X}{:02X}"</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Haxe</h3>
            <pre><code class="language-haxe"><span class="token keyword">switch</span><span class="token punctuation">(</span> color <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> Red<span class="token punctuation">:</span>   <span class="token string">"#FF0000"</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> Green<span class="token punctuation">:</span> <span class="token string">"#00FF00"</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> Blue<span class="token punctuation">:</span>  <span class="token string">"#0000FF"</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token function">Rgb</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token string">"#"</span><span class="token operator">+</span> StringTools<span class="token punctuation">.</span><span class="token function">hex</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> StringTools<span class="token punctuation">.</span><span class="token function">hex</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> StringTools<span class="token punctuation">.</span><span class="token function">hex</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Swift</h3>
            <pre><code class="language-swift"><span class="token keyword">switch</span> color <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token builtin">Red</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"#FF0000"</span>
  <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token builtin">Green</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"#00FF00"</span>
  <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token builtin">Blue</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"#0000FF"</span>
  <span class="token keyword">case</span> <span class="token keyword">let</span> <span class="token punctuation">.</span><span class="token function">Rgb</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span>format<span class="token punctuation">:</span><span class="token string">"#%02X%02X%02X"</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Elm</h3>
            <pre><code class="language-elm"><span class="token keyword">case</span> <span class="token hvariable">color</span> <span class="token keyword">of</span>
    <span class="token constant">Red</span>   <span class="token operator">-></span> <span class="token string">"#FF0000"</span>
    <span class="token constant">Green</span> <span class="token operator">-></span> <span class="token string">"#00FF00"</span>
    <span class="token constant">Blue</span>  <span class="token operator">-></span> <span class="token string">"#0000FF"</span>
    <span class="token constant">Rgb</span> <span class="token punctuation">{</span><span class="token hvariable">r</span><span class="token punctuation">,</span> <span class="token hvariable">g</span><span class="token punctuation">,</span> <span class="token hvariable">b</span><span class="token punctuation">}</span> <span class="token operator">-></span> <span class="token hvariable">String.concat</span> <span class="token punctuation">[</span><span class="token string">"#"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token hvariable">toHex</span> <span class="token hvariable">r</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token hvariable">toHex</span> <span class="token hvariable">g</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token hvariable">toHex</span> <span class="token hvariable">b</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre>
            <h3>PureScript</h3>
            <pre><code class="language-haskell"><span class="token keyword">case</span> <span class="token hvariable">color</span> <span class="token keyword">of</span>
  <span class="token constant">Red</span>   <span class="token operator">-></span> <span class="token string">"#FF0000"</span>
  <span class="token constant">Green</span> <span class="token operator">-></span> <span class="token string">"#00FF00"</span>
  <span class="token constant">Blue</span>  <span class="token operator">-></span> <span class="token string">"#0000FF"</span>
  <span class="token constant">Rgb</span> <span class="token punctuation">{</span> <span class="token hvariable">r</span><span class="token punctuation">,</span> <span class="token hvariable">g</span><span class="token punctuation">,</span> <span class="token hvariable">b</span> <span class="token punctuation">}</span> <span class="token operator">-></span> <span class="token string">"#"</span> <span class="token operator">&lt;></span> <span class="token hvariable">toHex</span> <span class="token hvariable">r</span> <span class="token operator">&lt;></span>  <span class="token hvariable">toHex</span> <span class="token hvariable">g</span> <span class="token operator">&lt;></span>  <span class="token hvariable">toHex</span> <span class="token hvariable">b</span> 
</code></pre>
            <h3>Haskell</h3>
            <pre><code class="language-haskell"><span class="token keyword">case</span> <span class="token hvariable">color</span> <span class="token keyword">of</span>
    <span class="token constant">Red</span>   <span class="token operator">-></span> <span class="token string">"#FF0000"</span>
    <span class="token constant">Green</span> <span class="token operator">-></span> <span class="token string">"#00FF00"</span>
    <span class="token constant">Blue</span>  <span class="token operator">-></span> <span class="token string">"#0000FF"</span>
    <span class="token constant">Rgb</span> <span class="token hvariable">r</span> <span class="token hvariable">g</span> <span class="token hvariable">b</span> <span class="token operator">-></span> <span class="token hvariable">printf</span> <span class="token string">"#%02X%02X%02X"</span> <span class="token hvariable">r</span> <span class="token hvariable">g</span> <span class="token hvariable">b</span>
</code></pre>
            <h3>OCaml</h3>
            <pre><code class="language-ocaml"><span class="token keyword">match</span> color <span class="token keyword">with</span>
      <span class="token module variable">Red</span>   <span class="token operator">-></span> <span class="token string">"#FF0000"</span>
    <span class="token operator">|</span> <span class="token module variable">Green</span> <span class="token operator">-></span> <span class="token string">"#00FF00"</span>
    <span class="token operator">|</span> <span class="token module variable">Blue</span>  <span class="token operator">-></span> <span class="token string">"#0000FF"</span>
    <span class="token operator">|</span> <span class="token module variable">Rgb</span> <span class="token punctuation">{</span>r<span class="token punctuation">;</span> g<span class="token punctuation">;</span> b<span class="token punctuation">}</span> <span class="token operator">-></span> <span class="token module variable">Printf</span><span class="token punctuation">.</span>sprintf <span class="token string">"#%02X%02X%02X"</span> r g b<span class="token punctuation">;</span><span class="token punctuation">;</span>
</code></pre>
            <h3>ReasonML</h3>
            <pre><code class="language-ocaml">switch <span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">|</span> <span class="token module variable">Red</span> <span class="token operator">=></span> <span class="token string">"#FF000"</span>
  <span class="token operator">|</span> <span class="token module variable">Green</span> <span class="token operator">=></span> <span class="token string">"#00FF00"</span>
  <span class="token operator">|</span> <span class="token module variable">Blue</span> <span class="token operator">=></span> <span class="token string">"#0000FF"</span>
  <span class="token operator">|</span> <span class="token module variable">Rgb</span><span class="token punctuation">{</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">}</span> <span class="token operator">=></span> <span class="token module variable">Format</span><span class="token punctuation">.</span>sprintf<span class="token punctuation">(</span><span class="token string">"#%02X%02X%02X"</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
            <h3>Kotlin</h3>
            <pre><code class="language-kotlin"><span class="token keyword">when</span> <span class="token punctuation">(</span> color <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Color<span class="token punctuation">.</span>Red   <span class="token operator">-></span> <span class="token string">"#FF0000"</span>
  Color<span class="token punctuation">.</span>Green <span class="token operator">-></span> <span class="token string">"#00FF00"</span>
  Color<span class="token punctuation">.</span>Blue  <span class="token operator">-></span> <span class="token string">"#0000FF"</span>
  <span class="token keyword">is</span> Color<span class="token punctuation">.</span>Rgb <span class="token operator">-></span> <span class="token string">"#%02X%02X%02X"</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span>r<span class="token punctuation">,</span> color<span class="token punctuation">.</span>g<span class="token punctuation">,</span> color<span class="token punctuation">.</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Scala</h3>
            <pre><code class="language-scala">color <span class="token keyword">match</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> Red   <span class="token keyword">=></span><span class="token string">"#FF0000"</span>
  <span class="token keyword">case</span> Green <span class="token keyword">=></span><span class="token string">"#00FF00"</span>
  <span class="token keyword">case</span> Blue  <span class="token keyword">=></span><span class="token string">"#0000FF"</span>
  <span class="token keyword">case</span> Rgb<span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token keyword">=></span> <span class="token string">"#%02X%02X%02X"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Dotty</h3>
            <pre><code class="language-scala">color <span class="token keyword">match</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> Color<span class="token punctuation">.</span>Red   <span class="token keyword">=></span> <span class="token string">"#FF0000"</span>
  <span class="token keyword">case</span> Color<span class="token punctuation">.</span>Green <span class="token keyword">=></span> <span class="token string">"#00FF00"</span>
  <span class="token keyword">case</span> Color<span class="token punctuation">.</span>Blue  <span class="token keyword">=></span> <span class="token string">"#0000FF"</span>
  <span class="token keyword">case</span> Color<span class="token punctuation">.</span>Rgb<span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token keyword">=></span> <span class="token string">"#%02X%02X%02X"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>TypeScript</h3>
            <pre><code class="language-typescript"><span class="token keyword">switch</span> <span class="token punctuation">(</span>color<span class="token punctuation">.</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> ColorKind<span class="token punctuation">.</span>Red<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">"#FF0000"</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> ColorKind<span class="token punctuation">.</span>Green<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">"#00FF00"</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> ColorKind<span class="token punctuation">.</span>Blue<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">"#0000FF"</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> ColorKind<span class="token punctuation">.</span>Rgb<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">"#"</span> <span class="token operator">+</span> <span class="token punctuation">[</span>color<span class="token punctuation">.</span>r<span class="token punctuation">,</span> color<span class="token punctuation">.</span>g<span class="token punctuation">,</span> color<span class="token punctuation">.</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">=></span> v<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">const</span> _exhaustiveCheck<span class="token operator">:</span> <span class="token builtin">never</span> <span class="token operator">=</span> color<span class="token punctuation">;</span>
        <span class="token keyword">return</span> _exhaustiveCheck<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
            <h3>Ruby</h3>
            <pre><code class="language-ruby"><span class="token keyword">case</span> color
<span class="token keyword">when</span> <span class="token constant">Color</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Red</span><span class="token punctuation">;</span> <span class="token string">"#FF000"</span>
<span class="token keyword">when</span> <span class="token constant">Color</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Green</span><span class="token punctuation">;</span> <span class="token string">"#00FF00"</span>
<span class="token keyword">when</span> <span class="token constant">Color</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Blue</span><span class="token punctuation">;</span> <span class="token string">"#0000FF"</span>
<span class="token keyword">when</span> <span class="token constant">Color</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Rgb</span><span class="token punctuation">;</span> <span class="token string">"#%02X%02X%02X"</span> <span class="token operator">%</span> <span class="token punctuation">[</span>color<span class="token punctuation">.</span>r<span class="token punctuation">,</span> color<span class="token punctuation">.</span>g<span class="token punctuation">,</span> color<span class="token punctuation">.</span>b<span class="token punctuation">]</span>
<span class="token keyword">end</span>
</code></pre>
            <h2>感想</h2>
            <h3>符号</h3>
            <ol>
              <li>Koka, Rust, Elm, PureScript, Haskell: 非常好</li>
              <li>OCaml, Kotlin: 好</li>
              <li>Haxe, Scala, Dotty, Ruby: 一般</li>
              <li>TypeScript, Swift: 很难写</li>
            </ol>
            <h2>编译器的默认行为</h2>
            <ol>
              <li>Rust，Haxe，Swift，Kotlin，Elm，PureScript：如果未覆盖该模式，则会出现编译错误</li>
              <li>Scala，Dotty，OCaml，ReasonML：即使不包含模式，编译也会在没有警告的情况下传递</li>
              <li>Koka，Haskell：即使不包含模式，编译也会在没有警告的情况下通过</li>
              <li>Ruby：外部</li>
            </ol>
            <p>来自： <a href="https://qiita.com/xmeta/items/91dfb24fa87c3a9f5993">https://qiita.com/xmeta/items/91dfb24fa87c3a9f5993</a></p>

          </div>
        </div>
      </div>
    </div>
  </body>

</html>