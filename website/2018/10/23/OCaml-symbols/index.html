<!--
 * @Author: Leland
 * @Date: 2019-12-27 15:59:00
 * @Description: Description
 -->
<!doctype html>
<html>

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui" />
    <title>OCaml 符号</title>
    <link href="/css/style.css" rel="stylesheet" />
    <meta name="description" content="OCaml 符号">
  </head>

  <body>
    <div>
      <div>
        <header class="header">
          <div class="container header-wrap">
            <h1 class="site-name">
              <a href="/">
                首页
              </a>
            </h1>
            <ul class="nav">
              <li class="nav-item">
                <a href="/about">关于</a>
              </li>
            </ul>
          </div>
        </header>
      </div>
      <div class="container main">
        <div class="page-body">
          <div class="markdown-body">
            <h1>OCaml 符号</h1>
            <h2>1、 (* … *) ，(** … **)</h2>
            <p>标识注释，(* … *) 一般用于代码注释，可嵌套。 (** … **) 一般用于文档注释，例如：</p>
            <pre><code class="language-ocaml"> <span class="token comment">(** 这里是注释. **)</span>
<span class="token keyword">val</span> touch <span class="token punctuation">:</span> <span class="token punctuation">(</span>string <span class="token operator">*</span> int<span class="token punctuation">)</span> list <span class="token operator">-></span> string <span class="token operator">-></span> <span class="token punctuation">(</span>string <span class="token operator">*</span> int<span class="token punctuation">)</span> list
</code></pre>
            <h2>2、 [ … ]</h2>
            <p>生成一个列表（类型）。 使用 ; 分隔符列表元素，例如：</p>
            <pre><code class="language-ocaml"># <span class="token keyword">let</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">;</span> <span class="token string">"bar"</span><span class="token punctuation">;</span> <span class="token string">"baz"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> words <span class="token punctuation">:</span> string list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">;</span> <span class="token string">"bar"</span><span class="token punctuation">;</span> <span class="token string">"baz"</span><span class="token punctuation">]</span>
</code></pre>
            <h2>3、 ,</h2>
            <p>生成一个元组。但是，元组的类型是通过 * 号来分隔每个元素的，例如：</p>
            <pre><code class="language-ocaml"><span class="token comment">(* 类型定义 *)</span>
<span class="token keyword">type</span> name <span class="token operator">=</span> string <span class="token operator">*</span> string

<span class="token comment">(* 元组生成 *)</span>
<span class="token keyword">let</span> johndoe <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token string">"Doe"</span><span class="token punctuation">)</span>

<span class="token comment">(* 模式匹配 *)</span>
<span class="token keyword">match</span> s <span class="token keyword">with</span>
<span class="token operator">|</span> <span class="token punctuation">(</span>first<span class="token punctuation">,</span> last<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token module variable">Printf</span><span class="token punctuation">.</span>printf <span class="token string">"my name is %s %s"</span> first last
</code></pre>
            <h2>4、 ;</h2>
            <p>这是一个句子休息。尽管 OCaml 的大部分语法都不需要这个分隔符，但它对短代码的函数并没有多大用处。正如上面已经提到的那样，这个符号也被用来分隔列表（下面）和记录元素</p>
            <h2>5、 &amp;&amp;</h2>
            <p>这是一个逻辑与（AND）运算符。我想你可以想象。还有，这是用于另一个目的的语法。</p>
            <h2>6、 ||</h2>
            <p>它是一个逻辑或（OR）运算符。or 也包含在保留字中，但现在已被弃用。</p>
            <h2>7、 ::</h2>
            <p>合成列表的操作符， x :: xs 在 xs 列表的开头添加一个 x 元素，例如：</p>
            <pre><code class="language-ocaml"># <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> a <span class="token punctuation">:</span> int list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">]</span>
# <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> a<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> b <span class="token punctuation">:</span> int list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">]</span>

# <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">:</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> a <span class="token punctuation">:</span> int list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre>
            <h2>8、 ’</h2>
            <p>单引号可以用于标识符。 x’ 你也可以说变量名 f’ 和函数名都可以。</p>
            <p>但是， 你不能以 'a 的形式定义变量。这被称为类型变量，它用于类型符号。</p>
            <h2>9、 |</h2>
            <p>用于编写由变体类型和模式匹配分隔的多个模式。例如：</p>
            <pre><code class="language-ocaml"><span class="token comment">(* 变体类型的定义 *)</span> 
<span class="token keyword">type</span> foobar <span class="token operator">=</span> 
    <span class="token module variable">Foo</span> <span class="token comment">(* 可能是 Foo *)</span> 
  <span class="token operator">|</span> <span class="token module variable">Bar</span> 
  <span class="token operator">|</span> <span class="token module variable">Baz</span> 
<span class="token comment">(* 模式匹配 *)</span> 
<span class="token keyword">match</span> v <span class="token keyword">with</span> 
<span class="token operator">|</span> <span class="token module variable">Foo</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">|</span> <span class="token module variable">Bar</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">|</span> <span class="token module variable">Baz</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
            <h2>10、 -&gt;</h2>
            <p>它用于模式匹配守卫或类型的符号。例如： String.get 获取字符串中特定位置的字符的函数类型是 string -&gt; int -&gt; char</p>
            <pre><code class="language-ocaml"><span class="token comment">(* 模式匹配 *)</span> 
<span class="token keyword">match</span> v <span class="token keyword">with</span> 
<span class="token operator">|</span> <span class="token module variable">Foo</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">|</span> <span class="token module variable">Bar</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">|</span> <span class="token module variable">Baz</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
            <h2>11、 ()</h2>
            <p>括号内没有任何内容。这是一个 unit ，它没有任何称为类型的东西…它在其他语言中是无效的。</p>
            <p>() 如果你发现一个指定参数的函数，它是一个不需要任何参数的函数。函数不能在没有参数的情况下调用，因此可以通过指定来调用类型以()开头的 unit - &gt; 函数。例如：</p>
            <pre><code class="language-ocaml"># <span class="token module variable">Sys</span><span class="token punctuation">.</span>getcwd <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token comment">(* 获取当前目录 *)</span> 
<span class="token operator">-:</span> string <span class="token operator">=</span> <span class="token string">"/Volumes/Users/szktty"</span>
</code></pre>
            <p>入口点是 let () = … 也是这个符号，这是模式匹配，但不是一个参数。</p>
            <h2>12、 ^</h2>
            <p>连接字符串的运算符，这个操作符会生成一个新的字符串。例如：</p>
            <pre><code class="language-ocaml"># <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"hello "</span> <span class="token operator">^</span> <span class="token string">"lanqy"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> name <span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">"hello lanqy"</span>
</code></pre>
            <h2>13、 +. -. *. /.</h2>
            <p>浮点数的加减乘除。例如：</p>
            <pre><code class="language-ocaml"><span class="token comment">(* 相加 *)</span>
# <span class="token number">1.2</span> <span class="token operator">+.</span> <span class="token number">1.3</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> float <span class="token operator">=</span> <span class="token number">2.5</span>
<span class="token comment">(* 相减 *)</span>
# <span class="token number">1.3</span> <span class="token operator">-.</span> <span class="token number">1.2</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> float <span class="token operator">=</span> <span class="token number">0.10000000000000009</span>
<span class="token comment">(* 相乘 *)</span>
# <span class="token number">3.0</span> <span class="token operator">*.</span> <span class="token number">2.0</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> float <span class="token operator">=</span> <span class="token number">6.</span>
<span class="token comment">(* 相除 *)</span>
# <span class="token number">6.0</span> <span class="token operator">/.</span> <span class="token number">2.0</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> float <span class="token operator">=</span> <span class="token number">3.</span>
</code></pre>
            <h2>14、 _</h2>
            <p>这是一个可以用于标识符的符号。在模式匹配中，它被称为通配符，但与其他变量相比，它实际上并没有特殊的功能。 _ 即 v 它匹配任何值：</p>
            <pre><code class="language-ocaml"><span class="token keyword">match</span> exp <span class="token keyword">with</span> 
<span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">|</span> v <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">(* 匹配 0 以外的值 *)</span>
</code></pre>
            <p>但是，如果将此符号添加到变量名称（或函数名称）的开头，则该变量将绕过警告。通常情况下，如果您根本没有使用任何已定义的变量，编译器将被警告为未使用的变量，但该检查不会完成，不要写 let _ = 。</p>
            <pre><code class="language-ocaml"><span class="token keyword">match</span> exp <span class="token keyword">with</span> 
<span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">-></span> <span class="token number">0</span> 
<span class="token operator">|</span> v <span class="token operator">-></span> <span class="token number">1</span> <span class="token comment">(* w 被警告为未使用的变量，因为 v 未使用 *)</span> 

<span class="token keyword">match</span> exp <span class="token keyword">with</span> 
<span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">-></span> <span class="token number">0</span> 
<span class="token operator">|</span> <span class="token punctuation">_</span> <span class="token operator">-></span> <span class="token number">1</span> <span class="token comment">(* 我不会收到警告 *)</span>
</code></pre>
            <p>另外，这不是一个单独的语言规范，也不是强制性的，但作为命名惯例_it有时附加到标识符的末尾（特别是记录字段名称），我们经常看到类似 end_ , to_ 这样的命名方式，原因很简单，因为有同名的end, to 保留字，与其绞尽脑汁想一个命名，不如直接在单词后面加 _ ?</p>
            <pre><code class="language-ocaml"><span class="token keyword">type</span> location <span class="token operator">=</span> <span class="token punctuation">{</span>
  start <span class="token punctuation">:</span> int<span class="token punctuation">;</span>
  end_ <span class="token punctuation">:</span> int<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
            <h2>15、 [| … |]</h2>
            <p>用于生成数组的语法（类型）， […] 与这个区别是完美的，例如：</p>
            <pre><code class="language-ocaml"># <span class="token punctuation">[</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token operator">|</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> int array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token operator">|</span><span class="token punctuation">]</span>
</code></pre>
            <h2>16、 := &lt;-</h2>
            <p>:= 引用（指针）（赋值（当解引用不提供左值））, &lt;- 变量赋值或声明（赋值）, 例如：</p>
            <pre><code class="language-ocaml"># <span class="token keyword">let</span> y <span class="token operator">=</span> ref <span class="token module variable">None</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> y <span class="token punctuation">:</span> <span class="token type_variable function">'_a</span> option ref <span class="token operator">=</span> <span class="token punctuation">{</span>contents <span class="token operator">=</span> <span class="token module variable">None</span><span class="token punctuation">}</span>
# y<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> <span class="token type_variable function">'_a</span> option ref <span class="token operator">=</span> <span class="token punctuation">{</span>contents <span class="token operator">=</span> <span class="token module variable">None</span><span class="token punctuation">}</span>
# y <span class="token operator">:=</span> <span class="token module variable">Some</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> unit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
# y<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> int option ref <span class="token operator">=</span> <span class="token punctuation">{</span>contents <span class="token operator">=</span> <span class="token module variable">Some</span> <span class="token number">3</span><span class="token punctuation">}</span>
# y <span class="token operator">:=</span> <span class="token module variable">None</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
# y<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> int option ref <span class="token operator">=</span> <span class="token punctuation">{</span>contents <span class="token operator">=</span> <span class="token module variable">None</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s' <span class="token operator">=</span> s<span class="token punctuation">;</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;-</span> <span class="token string">'x'</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
s'<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">"xello world"</span>
<span class="token comment">(* 数组 *)</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token number">3</span> <span class="token operator">|</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>

<span class="token comment">(* 修改数组元素 *)</span>
x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span> <span class="token number">9</span><span class="token punctuation">;</span><span class="token punctuation">;</span>             <span class="token comment">(* 设置索引为 1 的元素为 9 *)</span>
x<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> int array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token operator">|</span><span class="token punctuation">]</span>
</code></pre>
            <h2>17、 = &lt;&gt; == !=</h2>
            <p>= 相等， &lt;&gt; 不相等( 深层 )， == 相等， != 不相等 ( 浅层次 )，OCaml中有两个相等运算符 = 和 == ，相应的不等式运算符 &lt;&gt; 和 !=。= 和 &lt;&gt; 检查结构相等，而 == 和 != 检查物理相等，例如：</p>
            <pre><code class="language-ocaml"># <span class="token string">"a"</span> <span class="token operator">==</span> <span class="token string">"a"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> bool <span class="token operator">=</span> <span class="token boolean">false</span>
# <span class="token string">"a"</span> <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> bool <span class="token operator">=</span> <span class="token boolean">true</span>
# <span class="token string">"a"</span> <span class="token operator">!=</span> <span class="token string">"a"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> bool <span class="token operator">=</span> <span class="token boolean">true</span>
# <span class="token string">"a"</span> <span class="token operator">&lt;></span> <span class="token string">"a"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> bool <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre>
            <h2>18、 ~</h2>
            <p>标签参数中使用的符号，例如：</p>
            <pre><code class="language-ocaml"># <span class="token keyword">let</span> f <span class="token label function">~x</span> <span class="token label function">~y</span> <span class="token operator">=</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> f <span class="token punctuation">:</span> x<span class="token punctuation">:</span>int <span class="token operator">-></span> y<span class="token punctuation">:</span>int <span class="token operator">-></span> int <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">fun</span><span class="token operator">></span>

# <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">and</span> y <span class="token operator">=</span> <span class="token number">2</span> <span class="token keyword">in</span> f <span class="token label function">~x</span> <span class="token label function">~y</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> int <span class="token operator">=</span> <span class="token number">1</span>

# <span class="token keyword">let</span> f <span class="token label function">~x</span><span class="token punctuation">:</span>x1 <span class="token label function">~y</span><span class="token punctuation">:</span>y1 <span class="token operator">=</span> x1 <span class="token operator">-</span> y1<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> f <span class="token punctuation">:</span> x<span class="token punctuation">:</span>int <span class="token operator">-></span> y<span class="token punctuation">:</span>int <span class="token operator">-></span> int <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">fun</span><span class="token operator">></span>

# f <span class="token label function">~x</span><span class="token punctuation">:</span><span class="token number">3</span> <span class="token label function">~y</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> int <span class="token operator">=</span> <span class="token number">1</span>
</code></pre>
            <h2>19、 ?</h2>
            <p>可选参数 = 用于标记参数的符号，可以省略。例如：</p>
            <pre><code class="language-ocaml"># <span class="token keyword">let</span> foo <span class="token operator">?</span><span class="token punctuation">(</span>z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> x y <span class="token operator">=</span> x <span class="token operator">+</span> y <span class="token operator">></span> z<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> foo <span class="token punctuation">:</span> <span class="token operator">?</span>z<span class="token punctuation">:</span>int <span class="token operator">-></span> int <span class="token operator">-></span> int <span class="token operator">-></span> bool <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">fun</span><span class="token operator">></span>
# foo <span class="token number">3</span> <span class="token number">3</span> <span class="token label function">~z</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> bool <span class="token operator">=</span> <span class="token boolean">true</span>
# foo <span class="token number">3</span> <span class="token number">3</span> <span class="token label function">~z</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> bool <span class="token operator">=</span> <span class="token boolean">false</span>
# foo <span class="token number">2</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">:</span> bool <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre>
            <p>(* 代码来自 <a href="https://stackoverflow.com/questions/23703470/ocaml-optional-argument">https://stackoverflow.com/questions/23703470/ocaml-optional-argument</a> *)</p>
            <h2>20、 `</h2>
            <p>表示多态变体的符号。还有其他多态变体符号 [&gt; 和 [&lt; 。</p>
            <p>可以结合 <a href="http://blog.klipse.tech/reason/2018/03/12/blog-reason-types.html">http://blog.klipse.tech/reason/2018/03/12/blog-reason-types.html</a> 这篇文章来理解 [&gt; 和 [&lt; 。</p>
            <pre><code class="language-ocaml">#  <span class="token keyword">type</span> card <span class="token operator">=</span>  <span class="token punctuation">[</span>  <span class="token variant variable">`Jorker</span>  <span class="token operator">|</span>  <span class="token variant variable">`Num</span>  <span class="token keyword">of</span>  int  <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>  <span class="token comment">(* 多态变体类型 *)</span> 
<span class="token keyword">type</span> card <span class="token operator">=</span>  <span class="token punctuation">[</span>  <span class="token variant variable">`Jorker</span>  <span class="token operator">|</span>  <span class="token variant variable">`Num</span>  <span class="token keyword">of</span>  int  <span class="token punctuation">]</span> 

#  <span class="token keyword">type</span> in_data <span class="token operator">=</span>  <span class="token punctuation">[</span>  <span class="token variant variable">`Str</span>  <span class="token keyword">of</span>  string  <span class="token operator">|</span>  <span class="token variant variable">`Num</span>  <span class="token keyword">of</span>  int  <span class="token punctuation">]</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>  <span class="token comment">(* 多态变体类型 *)</span> 
<span class="token keyword">type</span> in_data <span class="token operator">=</span>  <span class="token punctuation">[</span>  <span class="token variant variable">`Num</span>  <span class="token keyword">of</span>  int  <span class="token operator">|</span>  <span class="token variant variable">`Str</span>  <span class="token keyword">of</span>  string  <span class="token punctuation">]</span> 

#  <span class="token keyword">let</span> get_number<span class="token operator">=</span>  <span class="token keyword">function</span>  <span class="token comment">(* 接收多态变体参数 *)</span> 
    <span class="token variant variable">`Num</span> i <span class="token operator">-></span> i
   <span class="token operator">|</span>  <span class="token punctuation">_</span>  <span class="token operator">-></span> failwith <span class="token string">" not a number "</span> <span class="token punctuation">;</span><span class="token punctuation">;</span> 
<span class="token keyword">val</span> get_number<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">></span>  ` <span class="token module variable">Num</span>  <span class="token keyword">of</span> <span class="token type_variable function">'a</span> <span class="token punctuation">]</span>  <span class="token operator">-></span> ' a <span class="token operator">=</span>  <span class="token operator">&lt;</span><span class="token keyword">fun</span> <span class="token operator">></span> 

# get_number <span class="token punctuation">(</span> <span class="token variant variable">`Num</span>  <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>  <span class="token comment">(* 应用多态变体类型 *)</span> 
<span class="token operator">-:</span> int  <span class="token operator">=</span>  <span class="token number">3</span>
</code></pre>
            <p>(* 代码来自 <a href="http://osiire.hatenablog.com/entries/2009/05/10">http://osiire.hatenablog.com/entries/2009/05/10</a> *)</p>
            <h2>21、 @@ 和 |&gt;</h2>
            <p>OCaml 4.01 新添加的两个内置运算符： @@ 和 |&gt; ，它们非常简单，你可以在像这样的旧版本中自己定义它们：</p>
            <pre><code class="language-ocaml"><span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token operator">@@</span><span class="token punctuation">)</span> fn x <span class="token operator">=</span> fn x
<span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token operator">|></span><span class="token punctuation">)</span> x fn <span class="token operator">=</span> fn x
<span class="token comment">(* 以下这两个是一样的 *)</span>
print <span class="token operator">@@</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
print <span class="token string">"Hello"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
</code></pre>
            <p>例如，这两行是等价的（我们加载一个文件，将其解析为XML，将生成的文档解析为选择文档，然后执行选择）</p>
            <pre><code class="language-ocaml">execute <span class="token punctuation">(</span>parse_selections <span class="token punctuation">(</span>parse_xml <span class="token punctuation">(</span>load_file path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

execute <span class="token operator">@@</span> parse_selections <span class="token operator">@@</span> parse_xml <span class="token operator">@@</span> load_file path
</code></pre>
            <p>(* 代码来自 <a href="http://roscidus.com/blog/blog/2013/10/13/ocaml-tips/">http://roscidus.com/blog/blog/2013/10/13/ocaml-tips/</a> *)</p>
            <p>这样做的好处是，当你阅读一个 ( ，你必须沿着括号中的其余行扫描来找到匹配的。当你看到 @@ 时，你知道表达式的其余部分是前一个单一的参数功能。</p>
            <p>管道运算符 |&gt; 是相似的，但函数和参数是相反的。以下两行是相同的：</p>
            <pre><code class="language-ocaml">execute <span class="token operator">@@</span> parse_selections <span class="token operator">@@</span> parse_xml <span class="token operator">@@</span> load_file path

load_file path <span class="token operator">|></span> parse_xml <span class="token operator">|></span> parse_selections <span class="token operator">|></span> execute
</code></pre>
            <p>(* 代码来自 <a href="http://roscidus.com/blog/blog/2013/10/13/ocaml-tips/">http://roscidus.com/blog/blog/2013/10/13/ocaml-tips/</a> *)</p>
            <h2>22、 ;;</h2>
            <p>顶层环境的结束符。例如：</p>
            <pre><code class="language-ocaml"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> a <span class="token punctuation">:</span> int list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">]</span>
</code></pre>
            <h2>23、 @</h2>
            <p>列表的连接符。例如：</p>
            <pre><code class="language-ocaml"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">@</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> a <span class="token punctuation">:</span> int list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token number">6</span><span class="token punctuation">]</span>
</code></pre>
            <p>参考资料：</p>
            <ul>
              <li><a href="https://qiita.com/szktty/items/05cb2b754c88fbacc274">https://qiita.com/szktty/items/05cb2b754c88fbacc274</a></li>
              <li><a href="http://roscidus.com/blog/blog/2013/10/13/ocaml-tips/">http://roscidus.com/blog/blog/2013/10/13/ocaml-tips/</a></li>
              <li><a href="https://stackoverflow.com/questions/23703470/ocaml-optional-argument">https://stackoverflow.com/questions/23703470/ocaml-optional-argument</a></li>
              <li><a href="http://rigaux.org/language-study/syntax-across-languages-per-language/OCaml.html">http://rigaux.org/language-study/syntax-across-languages-per-language/OCaml.html</a></li>
            </ul>

          </div>
        </div>
      </div>
    </div>
  </body>

</html>